#!/bin/sh
#
# ROM#3 (0x9000):
#   0x936d: CMD AUX MEMORY TEST
#   0x946d: CMD SEEK TEST
#   0x9531: CMD READ TEST
#   0x92ce: FLOPPY COMMAND BUFFER TEST
#   0x95e8: FLOPPY SEEK TEST
#   0x969b: FLOPPY READ TEST
#   0x9747: ROM SELF TEST
#
# Note: there is no actual entrypoint, but the disassembler requires one.

./scripts/disassm.py images/Diag_F3_Rev_1.0.BIN -rom -base 0x9000 -entry 0x0747 -force "0x936d 0x946d 0x9531 0x92ce 0x95e8 0x969b 0x9747 0x9180 0x91e3 0x90c5 0x9286 0x9164 0x90b0 0x909a 0x90ba 0x90f6 0x9128" -subs '0x90a3:0' -jsrs '0x9372:2 0x92d3:2 0x9472:2 0x9536:2 0x95ed:2 0x96a0:2 0x974c:2' -isubs '0x0112:args.index(0) + 1;;0x0102:0;;0x010c:0;;0x010a:0;;0x0118:0;;0x0104:2;;0x0110:0;;0x0106:0' $*

